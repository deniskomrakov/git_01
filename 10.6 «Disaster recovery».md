# Домашнее задание к занятию 10.6 «Disaster recovery» - Денис Комраков


### Инструкция по выполнению домашнего задания

1. Сделайте fork [репозитория c Шаблоном решения](https://github.com/netology-code/sys-pattern-homework) к себе в Github и переименуйте его по названию или номеру занятия, например, https://github.com/имя-вашего-репозитория/gitlab-hw или https://github.com/имя-вашего-репозитория/8-03-hw).
2. Выполните клонирование данного репозитория к себе на ПК с помощью команды `git clone`.
3. Выполните домашнее задание и заполните у себя локально этот файл README.md:
   - впишите вверху название занятия и вашу фамилию и имя
   - в каждом задании добавьте решение в требуемом виде (текст/код/скриншоты/ссылка)
   - для корректного добавления скриншотов воспользуйтесь инструкцией ["Как вставить скриншот в шаблон с решением"](https://github.com/netology-code/sys-pattern-homework/blob/main/screen-instruction.md)
   - при оформлении используйте возможности языка разметки md (коротко об этом можно посмотреть в [инструкции по MarkDown](https://github.com/netology-code/sys-pattern-homework/blob/main/md-instruction.md))
4. После завершения работы над домашним заданием сделайте коммит (`git commit -m "comment"`) и отправьте его на Github (`git push origin`);
5. Для проверки домашнего задания преподавателем в личном кабинете прикрепите и отправьте ссылку на решение в виде md-файла в вашем Github.
6. Любые вопросы по выполнению заданий спрашивайте в чате учебной группы и/или в разделе “Вопросы по заданию” в личном кабинете.

Желаем успехов в выполнении домашнего задания!

---

### Задание 1

В чём разница между DRaaS, BaaS, Active-Active, Active-Passive?

*Приведите ответ в свободной форме.*

---

### Задание 2

Компании нужно составить план восстановления в случае Disaster recovery. Сервер состоит из системного диска и диска с данными. 
Требуется копировать два логических диска на один физический: 
- системный диск (C:) (20 гигабайт);
- диск с данными (D:) (256 гигабайт). 

В требованиях говорится: 
- данные критичны в течение 24 часов после аварии;
- сеть критична к большим потокам данных в рабочее время;
- рабочее время с 9.00 до 18.00, пять дней (понедельник – пятница);
- план резервирования должен быть реализован для диска C и для диска D. В случае Linux-систем /dev/sda1, /dev/sda4 или /dev/sdb1-данные;
- считается, что для этой задачи может быть: 1) поставлен второй сервер или 2) выбрана облачная инфраструктура с определённой услугой;
- компания готова платить за 10 терабайт места как в одном, так и в другом случае.
 
*Приведите ответ в форме плана востановления с выбранным механизмом и получившейся топологией.*

Для восстановления сервера (состоящего из системного диска и диска с данными) в случае Disaster recovery предлагаю:

Выбрать облачную инфраструктуру с услугой BaaS (Backup as a Service) которую предоставляет Yandex Cloud. Задача этого сервиса Yandex Cloud Backup – восстановление данных за счёт создания резервных копий виртуальных машин. Этот вид услуги имеет ряд преимуществ, самый простой и бюджетный способ защиты внутреннего контура компании. Нет необходимости дублировать информацию на физическую архитектуру (не надо покупать дополнительное оборудование и расширять штат).

Можно настроить политику для создания бэкапов и настройки хранения данных по количеству или по времени. Выбираем тип политики, полный – каждый раз сохранять бэкап со всей машины целиком или инкрементальный – иногда выполнять полные бэкапы, а остальные моменты сохранять только изменения с последнего бэкапа.

В нашем случае сеть критична к большим потокам данных в рабочее время и данные критичны в течении 24 часов, то создаём следующую политику резервного копирования нашего сервера для диска (D:) с данными:
- Тип резервного копирования – инкрементный
- Периодичность резервного копирования – каждый час с 9.00 до 18.00, пять дней (понедельник – пятница)
- Автоматическое удаление – хранить всё (удалять вручную)


В нашем случае создаём следующую политику резервного копирования нашего сервера для системного диска (С:):
- Тип резервного копирования – полное
- Периодичность резервного копирования – каждый день
- Автоматическое удаление – хранить 15 бэкапов

Восстановление виртуальной машины из резервной копии занимает от нескольких минут до получаса, но, в зависимости от размера виртуальной машины, это время может увеличиться.

Резервное копирование осуществляется только когда виртуальная машина запущена и сервис работает через агента, который устанавливается внутри операционной системы.

Платформа Yandex Cloud гарантирует физическую и сетевую безопасность своих серверов, расположенных в трёх географических зонах. То есть все данные хранятся и одновременно распределены в трёх дата-центрах: если с одним из них что-то случится или будут проводиться профилактические работы, данные и вся система всё равно будут доступны и связаны. Кроме того, все данные в Yandex Cloud хранятся в соответствии с требованиями федерального закона № 152-ФЗ «О персональных данных» по высшему уровню защищённости УЗ-1, а также требованиям стандартов ISO, GDPR, PCI DSS и ГОСТ Р 57580.

---

# Задания со звёздочкой*

Эти задания дополнительные. Их выполнять не обязательно. На зачёт это не повлияет. Вы можете их выполнить, если хотите глубже разобраться в материале.
 

### Задание 3*

Используя программу R-sync, составьте конфигурацию для выполнения прошлой задачи.

*Пришлите файл конфигурации.*
